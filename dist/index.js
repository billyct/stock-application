webpackJsonp([1],[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}var r=n(1),o=a(r),i=n(6),u=n(9),l=n(10),s=n(39),c=a(s),f=n(22),d=n(32),p=n(49),m=a(p),v=n(45),h=a(v),y=n(46),b=a(y),g=n(47),_=a(g),O=n(48),E=a(O),w=n(25),P=a(w),j=n(38),x=a(j),N=n(24),k=N.__DEV_TOOL__?(0,i.compose)(devTools(),persistState(window.location.href.match(/[?&]debug_session=([^&]+)\b/)))(i.createStore):i.createStore;k=(0,i.compose)((0,i.applyMiddleware)(c["default"]),(0,x["default"])(["products"],{key:"stock"}))(k);var C=(0,d.useBasename)(d.createHistory)({basename:"/stock-application"}),S=k(m["default"]);(0,f.syncReduxAndRouter)(C,S),o["default"].render(o["default"].createElement("div",null,o["default"].createElement(u.Provider,{store:S},function(){return o["default"].createElement(l.Router,{history:C},o["default"].createElement(l.Route,{path:"/",component:h["default"]},o["default"].createElement(l.IndexRoute,{component:b["default"]}),o["default"].createElement(l.Route,{path:"dashboard",component:b["default"]},o["default"].createElement(l.Route,{path:"products"},o["default"].createElement(l.Route,{path:"create",component:_["default"]}),o["default"].createElement(l.Route,{path:":id/edit",component:_["default"]}),o["default"].createElement(l.Route,{path:":id",component:E["default"]}))),o["default"].createElement(l.Route,{path:"*",component:P["default"]})))}),N.__DEV_TOOL__&&o["default"].createElement(DebugPanel,{top:!0,left:!0,bottom:!0},o["default"].createElement(DevTools,{store:S,monitor:LogMonitor}))),document.getElementById("app"))},,,,,,,function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var a={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(a[o]=!0)}for(r=0;r<t.length;r++){var i=t[r];"number"==typeof i[0]&&a[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),e.push(i))}},e}},,,,function(e,t,n){function a(e,t){for(var n=0;n<e.length;n++){var a=e[n],r=f[a.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](a.parts[o]);for(;o<a.parts.length;o++)r.parts.push(u(a.parts[o],t))}else{for(var i=[],o=0;o<a.parts.length;o++)i.push(u(a.parts[o],t));f[a.id]={id:a.id,refs:1,parts:i}}}}function r(e){for(var t=[],n={},a=0;a<e.length;a++){var r=e[a],o=r[0],i=r[1],u=r[2],l=r[3],s={css:i,media:u,sourceMap:l};n[o]?n[o].parts.push(s):t.push(n[o]={id:o,parts:[s]})}return t}function o(){var e=document.createElement("style"),t=m();return e.type="text/css",t.appendChild(e),e}function i(){var e=document.createElement("link"),t=m();return e.rel="stylesheet",t.appendChild(e),e}function u(e,t){var n,a,r;if(t.singleton){var u=h++;n=v||(v=o()),a=l.bind(null,n,u,!1),r=l.bind(null,n,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=i(),a=c.bind(null,n),r=function(){n.parentNode.removeChild(n),n.href&&URL.revokeObjectURL(n.href)}):(n=o(),a=s.bind(null,n),r=function(){n.parentNode.removeChild(n)});return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else r()}}function l(e,t,n,a){var r=n?"":a.css;if(e.styleSheet)e.styleSheet.cssText=y(t,r);else{var o=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}function s(e,t){var n=t.css,a=t.media;t.sourceMap;if(a&&e.setAttribute("media",a),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function c(e,t){var n=t.css,a=(t.media,t.sourceMap);a&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var r=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(r),o&&URL.revokeObjectURL(o)}var f={},d=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},p=d(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),m=d(function(){return document.head||document.getElementsByTagName("head")[0]}),v=null,h=0;e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=p());var n=r(e);return a(n,t),function(e){for(var o=[],i=0;i<n.length;i++){var u=n[i],l=f[u.id];l.refs--,o.push(l)}if(e){var s=r(e);a(s,t)}for(var i=0;i<o.length;i++){var l=o[i];if(0===l.refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete f[l.id]}}}};var y=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=function(e,t,n){for(var a=!0;a;){var r=e,o=t,i=n;a=!1,null===r&&(r=Function.prototype);var u=Object.getOwnPropertyDescriptor(r,o);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(i)}var s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=o,n=i,a=!0,u=s=void 0}},l=n(1),s=a(l);n(72);var c=function(e){function t(){r(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"render",value:function(){return s["default"].createElement("div",{className:"clearfix"})}}]),t}(l.Component);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=function(e,t,n){for(var a=!0;a;){var r=e,o=t,i=n;a=!1,null===r&&(r=Function.prototype);var u=Object.getOwnPropertyDescriptor(r,o);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(i)}var s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=o,n=i,a=!0,u=s=void 0}},l=n(1),s=a(l),c=n(24);n(73);var f=function(e){function t(){r(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"render",value:function(){var e="icon",t=this.props.size?e+"--"+this.props.size:"",n=e+" "+e+"--"+this.props.name+" "+t+" "+this.props.className,a='<use xlink:href="'+c.SVG_URL+"#icon--"+this.props.name+'" />',r=s["default"].createElement("svg",{className:e+"__cnt",dangerouslySetInnerHTML:{__html:a}});return""!==this.props.spinner&&(r=s["default"].createElement("div",{className:e+"__spinner "+e+"__spinner--"+this.props.spinner},r)),s["default"].createElement("div",{className:n},r)}}]),t}(l.Component);f.defaultProps={spinner:"",className:""},f.propTypes={spinner:l.PropTypes.string,size:l.PropTypes.string.isRequired,name:l.PropTypes.string.isRequired,className:l.PropTypes.string},t["default"]=f,e.exports=t["default"]},function(e,t){"use strict";function n(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t}Object.defineProperty(t,"__esModule",{value:!0}),t.uuid=n},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=p["default"].clone(e),a=void 0,r=void 0,o=void 0;switch(t.type){case v:return n.push(p["default"].assign({},t.data.product)),n;case h:return a=p["default"].findIndex(n,function(e){return e.id===t.data.product.id}),n[a]=t.data.product,n;case y:return a=p["default"].findIndex(n,function(e){return e.id===t.data.id}),r=p["default"].findIndex(n[a].data,function(e){return e.flag===t.data.data.flag}),-1!==r?n[a].data[r]=t.data.data:n[a].data.push(t.data.data),n;case b:a=p["default"].findIndex(n,function(e){return e.id===t.data.id});var i=t.data.alias,u=i.indexFeature,o=i.indexAlias;return n[a].aliases[u][o]=t.data.alias.name,n;case g:return p["default"].remove(n,function(e){return e.id===t.data.product.id}),n;default:return e}}function o(e){return{type:v,data:{product:e}}}function i(e){return{type:h,data:{product:e}}}function u(e){return{type:g,data:{product:e}}}function l(e){var t=e.id,n=e.data;return{type:y,data:{id:t,data:n}}}function s(e){var t=e.id,n=e.alias;return{type:b,data:{id:t,alias:n}}}function c(e){var t=e.id,n=e.name,a=e.features,r=e.data,i=e.aliases;return function(e){return new m.Promise(function(u,l){function s(){var e=arguments[0]?arguments[0]:0,t=arguments[1]?arguments[1]:[],n=void 0;i[e]=[];for(var o=0;o<parseInt(a[e].count,10);o++)i[e].push((o+1).toString()),e===a.length-1?(n=p["default"].clone(t),n.push(o),r.push({flag:n.join("_"),count:0})):(n=p["default"].clone(t),n.push(o),s(e+1,n))}s(),e(o({id:t,name:n,features:a,data:r,aliases:i})),u({id:t,name:n,features:a,data:r,aliases:i})})}}function f(e){var t=e.id,n=e.name,a=e.features,r=e.data,o=e.aliases;return function(e){return new m.Promise(function(u,l){function s(){for(var e=arguments[0]?arguments[0]:0,t=arguments[1]?arguments[1]:[],n=void 0,i=0;i<parseInt(a[e].count,10);i++)if(o[e][i]||o[e].push((i+1).toString()),e===a.length-1){n=p["default"].clone(t),n.push(i);var u=p["default"].find(r,{flag:n.join("_")});u?c.push(u):c.push({flag:n.join("_"),count:0})}else n=p["default"].clone(t),n.push(i),s(e+1,n)}var c=[];s(),r=c,e(i({id:t,name:n,features:a,data:r,aliases:o})),u({id:t,name:n,features:a,data:r,aliases:o})})}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r,t.createProduct=o,t.updateProduct=i,t.removeProduct=u,t.updateProductData=l,t.updateProductAlias=s,t.createProductWithGenerate=c,t.updateProductWithGenerate=f;var d=(n(18),n(15)),p=a(d),m=n(26),v="app/products/CREATE",h="app/products/UPDATE",y="app/products/UPDATE_DATA",b="app/products/UPDATE_ALIAS",g="app/products/REMOVE"},,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=function(e,t,n){for(var a=!0;a;){var r=e,o=t,i=n;a=!1,null===r&&(r=Function.prototype);var u=Object.getOwnPropertyDescriptor(r,o);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(i)}var s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=o,n=i,a=!0,u=s=void 0}},l=n(1),s=a(l),c=function(e){function t(e,n){r(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.state={show:!0}}return o(t,e),i(t,[{key:"handleClose",value:function(){this.setState({show:!1})}},{key:"componentWillReceiveProps",value:function(e){this.setState({show:!0})}},{key:"render",value:function(){var e=this.props,t=e.message,n=e.className;return s["default"].createElement("div",{className:"ui message "+n+" "+(this.state.show&&t?"visible":"hidden")},s["default"].createElement("p",null,t),s["default"].createElement("i",{className:"close icon",onClick:this.handleClose.bind(this)}))}}]),t}(l.Component);c.displayName="Message",c.defaultProps={className:"error"},c.propTypes={message:l.PropTypes.string.isRequired},t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=(n(18),"http://billyct.github.io/stock-application/dist/icons/sprites.svg");t.SVG_URL=a;var r=!1;t.__DEV_TOOL__=r},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=function(e,t,n){for(var a=!0;a;){var r=e,o=t,i=n;a=!1,null===r&&(r=Function.prototype);var u=Object.getOwnPropertyDescriptor(r,o);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(i)}var s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=o,n=i,a=!0,u=s=void 0}},l=n(1),s=a(l),c=n(17),f=a(c),d=function(e){function t(){r(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"render",value:function(){return s["default"].createElement("div",{className:"ui centered aligned grid"},s["default"].createElement("div",{className:"six wide column"},s["default"].createElement("div",{className:"ui statistic"},s["default"].createElement("div",{className:"value"},s["default"].createElement(f["default"],{name:"paperplane",size:"l"})," 404"),s["default"].createElement("div",{className:"label"},"Not Found"))))}}]),t}(l.Component);d.displayName="NoMatchPage",t["default"]=d,e.exports=t["default"]},,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=function(e,t,n){for(var a=!0;a;){var r=e,o=t,i=n;a=!1,null===r&&(r=Function.prototype);var u=Object.getOwnPropertyDescriptor(r,o);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(i)}var s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=o,n=i,a=!0,u=s=void 0}},l=n(1),s=a(l),c=function(e){function t(){r(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"render",value:function(){var e=this.props.loading;return s["default"].createElement("div",{className:"ui inverted dimmer "+(e?"active":"")},s["default"].createElement("div",{className:"ui loader"}))}}]),t}(l.Component);t["default"]=c,e.exports=t["default"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function(e,t,n){for(var a=!0;a;){var r=e,o=t,i=n;a=!1,null===r&&(r=Function.prototype);var u=Object.getOwnPropertyDescriptor(r,o);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(i)}var s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=o,n=i,a=!0,u=s=void 0}},s=n(1),c=a(s),f=n(15),d=a(f),p=n(16),m=a(p),v=n(23),h=a(v),y=n(18),b=function(e){function t(e,n){o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n);var a=this.props.product,r=a.id,i=a.name,u=a.features,s=a.data,c=a.aliases;this.state={id:r,name:i,features:u,data:s,aliases:c,error:"",loading:!1}}return i(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){if(this.props.product.id!==e.product.id){var t=e.product,n=t.id,a=t.name,r=t.features,o=t.data,i=t.aliases;this.setState({id:n,name:a,features:r,data:o,aliases:i})}}},{key:"handleChange",value:function(e){this.setState(r({},e.target.name,e.target.value))}},{key:"save",value:function(e){var t=e.id,n=e.name,a=e.features,r=e.data,o=e.aliases;return this.state.id?this.props.actions.updateProductWithGenerate({id:t,name:n,features:a,data:r,aliases:o}):(t=(0,y.uuid)(),a=d["default"].filter(a,function(e){return!!e.name}),this.props.actions.createProductWithGenerate({id:t,name:n,features:a,data:r,aliases:o}))}},{key:"handleSave",value:function(e){var t=this;e.preventDefault(),this.setState({loading:!0});var n=this.state,a=n.id,r=n.name,o=n.features,i=n.data,u=n.aliases;o=d["default"].filter(o,function(e){return!!e.name}),this.save({id:a,name:r,features:o,data:i,aliases:u}).then(function(e){var n=e.id;e.name,e.features,e.data,e.aliases;t.props.history.pushState(null,"/dashboard/products/"+n)}).then(function(){t.setState({loading:!1})})}},{key:"handleCancel",value:function(e){e.preventDefault(),this.props.history.goBack()}},{key:"handleChangeFeatures",value:function(e){var t=e.target.value;t=(0,d["default"])(t.split(",")).map(function(e){return{id:(0,y.uuid)(),name:e,count:0}}).value(),this.setState({features:t})}},{key:"handleChangeFeatureCount",value:function(e){var t=this.refs["REF_FEATURE"+e].getDOMNode().value,n=this.state.features;n[e].count=t,this.setState({features:n})}},{key:"render",value:function(){var e=this,t="添加新产品";return this.state.id&&(t="更新产品 "+this.state.name),c["default"].createElement("div",null,c["default"].createElement("h3",{className:"ui horizontal divider header"},t),c["default"].createElement("div",{className:"ui segment stacked"},c["default"].createElement("div",{className:"ui inverted dimmer "+(this.state.loading?"active":"")},c["default"].createElement("div",{className:"ui loader"})),c["default"].createElement("form",{className:"ui form"},c["default"].createElement("div",{className:"inline fields"},c["default"].createElement("div",{className:"two wide field"},c["default"].createElement("label",{htmlFor:"name"},"名称")),c["default"].createElement("div",{className:"fourteen wide field"},c["default"].createElement("input",{id:"name",type:"text",name:"name",onChange:this.handleChange.bind(this),value:this.state.name,placeholder:"名称"}))),c["default"].createElement("div",{className:"inline fields"},c["default"].createElement("div",{className:"two wide field"},c["default"].createElement("label",{htmlFor:"features"},"属性")),c["default"].createElement("div",{className:"fourteen wide field"},c["default"].createElement("input",{id:"features",type:"text",name:"features",onChange:this.handleChangeFeatures.bind(this),value:d["default"].pluck(this.state.features,"name").join(","),readOnly:this.state.id,placeholder:"属性"}))),this.state.features.map(function(t,n){return c["default"].createElement("div",{className:"inline fields",key:""+t.id},c["default"].createElement("div",{className:"two wide field"}),c["default"].createElement("div",{className:"ten wide field"},c["default"].createElement("div",{className:"ui labeled input"},c["default"].createElement("div",{className:"ui label tag teal"},t.name),c["default"].createElement("input",{type:"text",ref:"REF_FEATURE"+n,onChange:e.handleChangeFeatureCount.bind(e,n),value:t.count,placeholder:"总数"}))))}),c["default"].createElement("div",{className:"ui section divider"}),c["default"].createElement("input",{ref:"productId",type:"hidden",value:this.state.id}),c["default"].createElement("button",{className:"ui positive button left floated",onClick:this.handleSave.bind(this),disabled:!this.state.name||d["default"].isEmpty(this.state.features)},"保存"),c["default"].createElement("button",{className:"ui button right floated",onClick:this.handleCancel.bind(this)},"取消"),c["default"].createElement(m["default"],null),c["default"].createElement(h["default"],{message:this.state.error}))))}}]),t}(s.Component);b.displayName="ProductForm",t["default"]=b,e.exports=t["default"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function(e,t,n){for(var a=!0;a;){var r=e,o=t,i=n;a=!1,null===r&&(r=Function.prototype);var u=Object.getOwnPropertyDescriptor(r,o);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(i)}var s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=o,n=i,a=!0,u=s=void 0}},s=n(1),c=a(s),f=n(5),d=a(f),p="button-popup",m=function(e){function t(e,n){o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n);var a=e.data,r=a.count,i=a.flag;this.state={count:r,flag:i,plus:0,minus:0,alias:"",error:""}}return i(t,e),u(t,[{key:"componentDidMount",value:function(){(0,d["default"])("."+p).popup({on:"click"})}},{key:"handleChange",value:function(e){this.setState(r({},e.target.name,e.target.value))}},{key:"handleSaveCount",value:function(){var e=this.state,t=e.count,n=e.flag;t=parseInt(t,10),this.props.handleSaveCount({flag:n,count:t}),(0,d["default"])("."+p).popup("hide")}},{key:"handlePlusCount",value:function(){var e=this,t=this.state,n=t.count,a=t.plus;this.setState({count:parseInt(n,10)+parseInt(a,10)},function(){e.handleSaveCount()})}},{key:"handleMinusCount",value:function(){var e=this,t=this.state,n=t.count,a=t.minus;this.setState({count:parseInt(n,10)-parseInt(a,10)},function(){e.handleSaveCount()})}},{key:"handleSaveAlias",value:function(e){e.name=this.state.alias,this.props.handleSaveAlias(e),this.setState({alias:""}),(0,d["default"])("."+p).popup("hide")}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,a=t.aliases,r="row";return c["default"].createElement("tr",null,n.flag.split("_").map(function(t,n){return c["default"].createElement("td",{key:n+"_"+t},c["default"].createElement("a",{className:"ui button basic mini "+p},a[n][t]),c["default"].createElement("div",{className:"ui popup top left transition hidden "+r+"__popup"},c["default"].createElement("div",{className:"ui action input fluid"},c["default"].createElement("input",{type:"text",value:e.state.alias,onChange:e.handleChange.bind(e),name:"alias"}),c["default"].createElement("button",{className:"ui teal mini button",onClick:e.handleSaveAlias.bind(e,{indexFeature:n,indexAlias:t})},"保存"))))}),c["default"].createElement("td",null,c["default"].createElement("div",{className:"ui orange horizontal label"},this.state.count)),c["default"].createElement("td",null,c["default"].createElement("a",{className:"ui button icon circular basic "+p},c["default"].createElement("i",{className:"plus icon "+r+"__icon"})),c["default"].createElement("div",{className:"ui popup top left transition hidden "+r+"__popup"},c["default"].createElement("div",{className:"ui action input fluid"},c["default"].createElement("input",{type:"text",value:this.state.plus,onChange:this.handleChange.bind(this),name:"plus"}),c["default"].createElement("button",{className:"ui teal mini button",onClick:this.handlePlusCount.bind(this)},"增加"))),c["default"].createElement("a",{className:"ui button icon circular basic "+p},c["default"].createElement("i",{className:"minus icon "+r+"__icon"})),c["default"].createElement("div",{className:"ui popup top left transition hidden "+r+"__popup"},c["default"].createElement("div",{className:"ui action input fluid"},c["default"].createElement("input",{type:"text",value:this.state.minus,onChange:this.handleChange.bind(this),name:"minus"}),c["default"].createElement("button",{className:"ui teal mini button",onClick:this.handleMinusCount.bind(this)},"减少")))))}}]),t}(s.Component);m.displayName="ProductTableRow",t["default"]=m,e.exports=t["default"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=function(e,t,n){for(var a=!0;a;){var r=e,o=t,i=n;a=!1,null===r&&(r=Function.prototype);var u=Object.getOwnPropertyDescriptor(r,o);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(i)}var s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=o,n=i,a=!0,u=s=void 0}},l=n(1),s=a(l),c=n(43),f=a(c),d=n(41);a(d);n(74);var p=function(e){function t(e,n){r(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.state={data:[],loading:!1}}return o(t,e),i(t,[{key:"updateProductData",value:function(e){this.setState({data:[],loading:!0});var t=0,n=10,a=t+n;this.timer=setInterval(function(){t>e.data.length-1&&(clearInterval(this.timer),this.setState({loading:!1}),this.timer=null),a>e.data.length&&(a=e.data.length),this.setState({data:this.state.data.concat(e.data.slice(t,a))}),t+=n,a=t+n}.bind(this))}},{key:"componentWillReceiveProps",value:function(e){this.props.product.id!==e.product.id&&this.updateProductData(e.product)}},{key:"componentWillMount",value:function(){this.updateProductData(this.props.product)}},{key:"handleSaveCount",value:function(e){var t=e.flag,n=e.count,a=this.props.product.id,r={flag:t,count:n};this.props.actions.updateProductData({id:a,data:r})}},{key:"handleSaveAlias",value:function(e){var t=e.indexFeature,n=e.indexAlias,a=e.name,r=this.props.product.id,o={indexFeature:t,indexAlias:n,name:a};this.props.actions.updateProductAlias({id:r,alias:o})}},{key:"render",value:function(){var e=this,t=this.props.product,n="product";return s["default"].createElement("div",{className:"ui segment basic"},s["default"].createElement("div",{className:"ui horizontal divider header"},s["default"].createElement("span",{className:n+"__title"},t.name),s["default"].createElement("div",{className:"ui small inline loader "+(this.state.loading?"active":"")+" "+n+"__loader"})),s["default"].createElement("table",{className:"ui yellow table"},s["default"].createElement("thead",null,s["default"].createElement("tr",null,t.features.map(function(e){return s["default"].createElement("th",{key:e.id},e.name)}),s["default"].createElement("th",null,"数量"),s["default"].createElement("th",null,"操作"))),s["default"].createElement("tbody",null,this.state.data.map(function(n,a){return s["default"].createElement(f["default"],{key:t.id+"_"+a,aliases:t.aliases,data:n,handleSaveAlias:e.handleSaveAlias.bind(e),handleSaveCount:e.handleSaveCount.bind(e)})}))))}}]),t}(l.Component);p.displayName="ProductTable",t["default"]=p,e.exports=t["default"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=function(e,t,n){for(var a=!0;a;){var r=e,o=t,i=n;a=!1,null===r&&(r=Function.prototype);var u=Object.getOwnPropertyDescriptor(r,o);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(i)}var s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=o,n=i,a=!0,u=s=void 0}},l=n(1),s=a(l),c=n(10),f=n(17),d=a(f),p=n(16);a(p);n(75),n(37),n(36);var m=function(e){function t(){r(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"render",value:function(){var e="app";return s["default"].createElement("div",{className:""+e},s["default"].createElement("div",{className:"ui menu stackable"},s["default"].createElement("div",{className:"ui text container"},s["default"].createElement(c.IndexLink,{to:"/",className:"header item"},s["default"].createElement(d["default"],{name:"flower",size:"m",className:e+"__logo"}),"STOCK"))),s["default"].createElement("div",{className:"ui text container"},this.props.children))}}]),t}(l.Component);m.displayName="App",t["default"]=m,e.exports=t["default"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=function(e,t,n){for(var a=!0;a;){var r=e,o=t,i=n;a=!1,null===r&&(r=Function.prototype);var u=Object.getOwnPropertyDescriptor(r,o);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(i)}var s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=o,n=i,a=!0,u=s=void 0}},l=n(1),s=a(l),c=n(9),f=n(17),d=a(f),p=n(16),m=(a(p),n(23)),v=(a(m),n(10));n(76);var h=function(e){function t(){r(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return o(t,e),i(t,[{key:"render",value:function(){var e="dashboard",t=this.props,n=t.children,a=t.products,r="";a.length>0&&(r=s["default"].createElement("div",null,s["default"].createElement("h5",{className:"ui horizontal divider header",style:{width:"15rem"}},"您的产品列表"),s["default"].createElement("div",{className:"ui vertical menu"},a.map(function(e){return s["default"].createElement(v.Link,{to:"/dashboard/products/"+e.id,className:"item",key:e.id,activeClassName:"active"},e.name," ",s["default"].createElement("i",{className:"angle right icon"}))}))));var o=s["default"].createElement("h2",{className:e+"__content__empty"},"试试左边的按钮？",s["default"].createElement(d["default"],{name:"doge",size:"l"}));return n&&(o=n),s["default"].createElement("div",{className:e},s["default"].createElement("div",{className:"ui grid"},s["default"].createElement("div",{className:"ui column six wide"},s["default"].createElement("div",{className:"ui vertical menu text"},s["default"].createElement(v.Link,{className:"item",to:"/dashboard/products/create"},s["default"].createElement("i",{className:"plus icon"})," 创建一个新产品")),r),s["default"].createElement("div",{className:"ui column ten wide"},o)))}}]),t}(l.Component);h.displayName="DashboardPage",t["default"]=(0,c.connect)(function(e){return{products:e.products}})(h),e.exports=t["default"]},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function(e,t,n){for(var a=!0;a;){var r=e,o=t,i=n;a=!1,null===r&&(r=Function.prototype);var u=Object.getOwnPropertyDescriptor(r,o);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(i)}var s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=o,n=i,a=!0,u=s=void 0}},s=n(1),c=r(s),f=n(9),d=n(6),p=n(42),m=r(p),v=n(19),h=a(v),y=function(e){function t(){o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.products,n=e.dispatch,a=e.params,r=e.history,o=(0,d.bindActionCreators)(h,n),i={id:"",name:"",features:[],data:[],aliases:[]};return a.id&&(i=_.find(t,{id:a.id}),!i)?c["default"].createElement(NoMatchPage,null):c["default"].createElement(m["default"],{actions:o,product:i,history:r})}}]),t}(s.Component);y.displayName="ProductEditorPage",t["default"]=(0,f.connect)(function(e){return{products:e.products}})(y),e.exports=t["default"]},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t["default"]=e,t}function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),l=function(e,t,n){for(var a=!0;a;){var r=e,o=t,i=n;a=!1,null===r&&(r=Function.prototype);var u=Object.getOwnPropertyDescriptor(r,o);if(void 0!==u){if("value"in u)return u.value;var l=u.get;if(void 0===l)return;return l.call(i)}var s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=o,n=i,a=!0,u=s=void 0}},s=n(1),c=r(s),f=n(9),d=n(6),p=n(19),m=a(p),v=n(44),h=r(v),y=n(25),b=r(y),g=n(10),O=function(e){function t(e,n){o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e,n),this.state={confirm:!1}}return i(t,e),u(t,[{key:"handleConfirmDelete",value:function(){this.setState({confirm:!0})}},{key:"handleDelete",value:function(e){this.props.dispatch(m.removeProduct(e)),this.props.history.pushState(null,"/dashboard/products")}},{key:"handleCancel",value:function(){this.setState({confirm:!1})}},{key:"render",value:function(){var e=(this.context.router,this.props),t=e.dispatch,n=e.history,a=e.products,r=e.params,o=(0,d.bindActionCreators)(m,t),i=_.find(a,{id:r.id});return i?c["default"].createElement("div",null,c["default"].createElement("div",{className:"ui bottom fixed menu"},c["default"].createElement("div",{className:"ui text container"},c["default"].createElement(g.Link,{to:"/dashboard/products/"+i.id+"/edit",className:"item"},"编辑"),c["default"].createElement("a",{onClick:this.handleConfirmDelete.bind(this),className:"item"},"删除"))),c["default"].createElement(h["default"],{actions:o,product:i,history:n}),c["default"].createElement("div",{className:"ui modal small "+(this.state.confirm?"active":"")},c["default"].createElement("div",{className:"header"},"删除产品 "+i.name),c["default"].createElement("div",{className:"content"},c["default"].createElement("p",null,"确定删除？")),c["default"].createElement("div",{className:"actions"},c["default"].createElement("div",{className:"ui negative button",onClick:this.handleCancel.bind(this)},"取消"),c["default"].createElement("div",{className:"ui positive button",onClick:this.handleDelete.bind(this,i)},"确定")))):c["default"].createElement(b["default"],null)}}]),t}(s.Component);O.displayName="ProductPage",t["default"]=(0,f.connect)(function(e){return{products:e.products}})(O),e.exports=t["default"]},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),o=n(15),i=a(o),u=n(22),l=n(19),s=a(l);t["default"]=(0,r.combineReducers)(i["default"].assign({},{products:s["default"]},{routing:u.routeReducer})),e.exports=t["default"]},function(e,t,n){t=e.exports=n(7)(),t.push([e.id,".clearfix{clear:both}",""])},function(e,t,n){t=e.exports=n(7)(),t.push([e.id,"@-webkit-keyframes spin{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes spin{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.icon{display:inline-block;width:25px;height:25px;fill:currentColor}.icon__cnt{width:100%;height:100%;background:inherit;fill:inherit;pointer-events:none;-webkit-transform:translateX(0);transform:translateX(0);-ms-transform:translate(.5px,-.3px)}.icon--s{width:20px;height:20px}.icon--m{width:50px;height:50px}.icon--l{width:100px;height:100px}.icon--xl{width:150px;height:150px}.icon--xxl{width:200px;height:200px}.icon__spinner{position:absolute;top:0;left:0;width:100%;height:100%}.icon__spinner--pulse{-webkit-animation:spin 1s infinite steps(8);animation:spin 1s infinite steps(8)}.icon__spinner--spin{-webkit-animation:spin 2s infinite linear;animation:spin 2s infinite linear}",""])},function(e,t,n){t=e.exports=n(7)(),t.push([e.id,".row__popup{width:300px}.row__icon{display:block!important;margin-top:-5px!important;margin-left:-5px!important}.product__loader{font-size:.5em!important;margin-left:10px!important;margin-top:-5px!important}",""])},function(e,t,n){t=e.exports=n(7)(),t.push([e.id,"#app{height:100%;width:100%}.app{margin:0 auto}.app__logo{margin-right:10px}",""])},function(e,t,n){t=e.exports=n(7)(),t.push([e.id,".dashboard{margin-top:4rem}.dashboard__content__empty{padding:5rem;color:rgba(0,0,0,.7);font-weight:400;text-shadow:5px 2px 5px #939696}.dashboard__icon-fix__menu-left{margin-top:-3px}.dashboard__icon-fix__menu-left-2{width:1.18em;float:right;margin:-3px 0 0 .5em;opacity:.9}.bind{width:100%!important}",""])},,,,,,,,,,,,,,,,,,function(e,t,n){var a=n(50);"string"==typeof a&&(a=[[e.id,a,""]]);n(11)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(51);"string"==typeof a&&(a=[[e.id,a,""]]);n(11)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(52);"string"==typeof a&&(a=[[e.id,a,""]]);n(11)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(53);"string"==typeof a&&(a=[[e.id,a,""]]);n(11)(a,{});a.locals&&(e.exports=a.locals)},function(e,t,n){var a=n(54);"string"==typeof a&&(a=[[e.id,a,""]]);n(11)(a,{});a.locals&&(e.exports=a.locals)}]);